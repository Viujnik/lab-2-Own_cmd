# LAB-2-Own-cmd
## Подготовка проекта
### Установка uv
Пропишите в терминале для корня проекта следующие команды:
```shell
 $ uv venv
 $ uv sync
 $ source .venv\bin\activate
 $ python src/main.py
```
Для MacOS может понадобиться запустить программу python3*

## Рекомендации запуска
Если вы просто запустите файл main.py в IDE, то некоторые функции могут работать некорректно. Например, команда clear или выход из shell с помощью Ctrl+C(KeyboardInterrupt). Для нормальной работы рекомендую запускать main.py через терминал, как в коде из "Подготовка проекта".

## Функционал
#### Команда ls
Синтаксис:
```shell
  ls -l <path>
```
Причем порядок для path и флага -l неважен. Обязательно написать только ls - функцию для вывода элементов файловой системы в директории, path по умолчанию - текущая директория, а флаг -l выводит подробную информацию о файлах, то есть опционален.
#### Команда cd
Синтаксис:
```shell
  cd <path_to_dir>
```
Аргумент path_to_dir обязателен и он должен вести именно к каталогу, а не файлу. Сама команда меняет текущую директорию на path_to_dir.
#### Команда cat
Синтаксис:
```shell
  cat <path_to file>
```
Аргумент path_to_file обязателен и он должен вести именно к файлу, а не к каталогу. Сама команда выводит содержимое файла path_to_file.
#### Команда cp
Синтаксис:
```shell
  cp <path_to file> <path_to_dir>
```
Аргументы <path_to file> и <path_to_dir> обязательны и должны вести именно к файлу, а не к каталогу. Сама команда выводит содержимое файла path_to_file.
#### Команда mv
Синтаксис:
```shell
  mv <path_from> <path_to>
```
Аргументы <path_from> и <path_to]> обязательны и должны вести либо файлу, либо к каталогу. Сама команда перемещает файл/директорию из path_from в path_to.
#### Команда rm
Синтаксис:
```shell
  rm -r <path>
```
Аргумент <path> обязателен и должны вести либо файлу, либо к каталогу. Порядок path и флага -r неважен. Сама команда удаляет файл/директорию из path. Причем без флага -r при удалении каталога будет ошибка.
#### Команды zip/tar
Синтаксис:
```shell
  zip/tar <path_to_dir> <path_to_archive.zip/.tar.gz>
```
Аргументы обязательны и path_to_dir должен вести к каталогу, из которого нужно сделать архив в формате .zip/.tar.gz, archive_name.zip/.tar.gz - имя созданного архива. Сам каталог не удаляется при архивировании, архив создается только на основе него.
#### Команды unzip/untar
Синтаксис:
```shell
  unzip/untar <path_to_archive_name.zip/.tar.gz>
```
Аргумент path_to_dir обязателен и должен вести к архиву, который нужно разархивировать из формата .zip/.tar.gz. Сам архив не удаляется при разархивировании, каталог создается только на основе него.
#### Команда grep
Синтаксис:
```shell
  grep [options] <pattern> <path>
```
Аргументы pattern и path обязательны и должны стоять именно в таком порядке, в то время как флаги(options) опциональны и могут быть в любом месте после команды grep. Команда grep проводит поиск строк, содержащих подстроку pattern. Причем, если нужно рекурсивно вывести все строки из каталога(то есть и искать и в подкаталогах, а не только в файлах) используется флаг -r, а для игнорирования регистра при поиске - флаг -i, сами флаги нужно записывать последовательно(то есть "-r -i", не "-ri").
#### Команда history
Синтаксис:
```shell
  history <N>
```
Аргумент N опционален и указывает, сколько последних команд вывести. Без него history выведет всю историю команд.

#### Команда undo
Синтаксис:
```shell
  undo <N>
```
Аргумент N опционален и указывает, сколько последних команд нужно отменить. Без него undo просто отменит последнюю из команд: cp, mv, rm.
#### Логирование
Логируются и команды, и ошибки. Если команда была завершена ошибка, то в логах будет сообщение о выполнении команды, а ниже об ошибке. Записывается всё в файл <span style="color: green;">"/src/shell.log"</span>.
## Напоминание об ошибках
Помните, что в ходе выполнения команд могут произойти ошибки. Например:
+ PermissionError - если у вас нет прав на запись файла и т.п., то немудрено, что для команд, например, cp, mv, rm и соответственных элементов файловой системы, вы получите ошибку.
+ FileNotFoundError/FileExistError - будьте внимательнее, с существующим ли элементом вы хотите взаимодействовать.
+ NotADirectory - внимательность, чтобы не перепутать файлы с каталогами, тоже нужна!
+ Exception - ...я не всесильный и некоторые ошибки не могу предвидеть. Это неожиданные ошибки.
## Тестирование
Все необходимое для тестирования находится в каталоге <span style="color: green;">"/Users/kostamak/PycharmProjects/lab-2-cmd/tests"</span>.

Для запуска определенного файла впишите в терминал, открытый в каталоге tests, следующее:
```shell
    python -m unittest tests.<test_file_name> -v
```
Тесты распределены по ролям команд:
```
tests:
    config_tests.py
    test_archives.py
    test_file_operations.py
    test_history.py
    test_navigation.py
```
## Тестируйте! Пробуйте!
###### <span style="color: red;">А если хочется разобраться как работает этот псевдо-код - welcome to the hell!</span>
